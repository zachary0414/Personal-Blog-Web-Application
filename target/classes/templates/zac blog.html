<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Details page</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
  <link rel="stylesheet" href="/css/My.css" th:href="@{/css/My.css}">
</head>
<body>
<script src="/js/dynamic.js" th:href="@{/js/dynamic.js}"></script>

<!--navigation-->
<nav class="ui inverted attached segment m-padded-tb-mini" >
  <div class="ui container">
    <div class="ui inverted secondary stackable menu">
      <h2 class="ui teal header item">Blog</h2>
      <a href="#" class="item"><i class="home icon"></i>Home page</a>
      <a href="#" class="item"><i class="idea icon"></i>Section</a>
      <a href="#" class="item"><i class="tags icon"></i>Tags</a>
      <a href="#" class="item"><i class="clone icon"></i>归档</a>
      <a href="#" class="item"><i class="info icon"></i>About me</a>
      <div class="right item">
        <form name="search" action="#" th:action="@{/search}" method="post" target="_blank">
          <div class="ui icon inverted transson input">
            <input type="text" name="query" placeholder="Search..." th:value="${query}">
            <i onclick="document.forms['search'].submit()" class="search link icon"></i>
          </div>
        </form>
      </div>
    </div>
  </div>


</nav>
<!--context-->
<div class="m-container-small m-padded-tb-big">
  <div class="ui m-container">
    <div class="ui top attached segment">
      <div class="ui horizontal link list">
        <div class="item">
          <img src="http://qqpublic.qpic.cn/qq_public/0/0-3100404347-12156C2EE90EFD7E008B9872547ACE50/0?fmt=jpg&size=25&h=690&w=690&ppv=1/0"
               th:src="@{${blog.user.avatar}}" alt="" class="ui avatar image">
          <div class="content"><a href="#" class="header" th:text="${blog.user.nickname}">Xiyin Song</a></div>
        </div>
        <div class="item">
          <i class="calendar icon" ></i>
          <span th:text="${#dates.format(blog.updateTime,'yyyy-MM-dd')}">2020-09-07</span>
        </div>
        <div class="item">
          <i class="eye icon"></i>
          <span th:text="${blog.views}">32</span>
        </div>
      </div>
    </div>
    <div class="ui attached segment">
      <!--图片-->
      <img src="https://investmentu.com/wp-content/uploads/2020/07/Financial-Independence.jpg"
           th:src="@{${blog.coverPage}}" alt="" class="ui fluid rounded image">
    </div>
    <div id="main" class="ui attached padded segment">
      <!--内容-->
      <!--                    <div class="ui right aligned basic segment">-->
      <!--                        <div class="ui green basic label" th:text="${blog.flag}">-->
      <!--                            Original-->
      <!--                        </div>-->
      <!--                    </div>-->
      <h2 class="ui center aligned header" th:text="${blog.title}">我关于美股投资的一些看法</h2>
      <!--文章内容-->
      <div id="content" class="m-padded-lr" th:utext="${blog.content}">
        <br>
        <p><b>一、树立正确的投资理念</b></p>
        <br>
        <p>美股遵循「价值投资」原则。价值投资是“证券分析之父、价值投资鼻祖”本杰明·格雷厄姆提出的投资法则——“雪茄烟蒂式投资”。“你满地找雪茄烟蒂，终于找到一个已经湿透的，令人讨厌的烟蒂，看上去还能抽一口，这一口可是免费的。你把它捡起来，抽上最后一口，然后扔掉，接着找下一个。这样，你不用花钱就能抽上几口免费雪茄。”
        </p>
        <br>
        <p>如果按这种风格投资，那投资组合中必然是大量残缺不全的雪茄烟蒂，投资者频繁收进各种烟蒂，并急于将它们脱手，其结果是，手中没有一件完整的好货，并且要被迫频繁交易，并急于将它们脱手。劣质股票、分散投资、短期持有变成重大缺陷。
          <b>正确做法是购买有很大安全边际的优质公司，集中投资，并且长期持有</b>。
        </p>
        <br>
        <p><b>二、美股知识分类</b></p>
        <br>
        <br>
        <br>
      </div>
      <!--标签-->
      <div class="m-padded-lr">
        <div class="ui basic teal left pointing label" th:each="tag : ${blog.tags}" th:text="${tag.name}">#Investing</div>
      </div>
      <!--打赏 thumbs up icon-->
      <div class="ui center aligned basic segment">
        <button id="payButton" class="ui orange basic heart button">
          <i class="thumbs up icon"></i>赞赏</a>
        </button>
      </div>
      <div class="ui payQR flowing popup transition hidden">
        <div class="ui green basic label">
          <div class="ui images" style="font-size: inherit !important;">
            <div class="image">
              <img src="../static/images/dashang.jpg" th:src="@{/images/dashang.jpg}" alt="" class="ui rounded image" style="width: 120px">
              <div>Wechat Pay</div>
            </div>
            <div class="image">
              <img src="../static/images/Alipay.jpg" th:src="@{/images/Alipay.jpg}" alt="" class="ui rounded image" style="width: 120px">
              <div>AliPay</div>
            </div>
          </div>
        </div>
      </div>

    </div>
    <div class="ui attached positive message">
      <!--博客信息-->
      <div class="ui middle aligned grid">
        <div class="eleven wide column">
          <ui class="list">
            <li>Author: <span th:text="${blog.user.nickname}">Xiyin Song</span><a href="#" th:href="@{/about}" target="_blank">(Contact with the author.)</a></li>
            <li>Publish Date: <span th:text="${#dates.format(blog.updateTime, 'yyyy-MM-dd HH:mm')}"></span></li>
          </ui>
        </div>
        <div class="five wide column">
          <img src="../static/images/WeChat.jpg" th:src="@{/images/WeChat.jpg}" alt="" class="ui right floated rounded bordered image" style="width: 140px">
        </div>
      </div>
    </div>
    <div class="ui bottom attached segment">
      <!--留言area-->
      <div id="comment-container" class="ui teal segment">
        <div class="ui threaded comments" style="max-width: 100%">
          <h3 class="ui dividing header">Comments</h3>
          <div class="comment" th:each="comment : ${comments}">
            <a class="avatar">
              <img src="../static/images/Gloria.jpg" th:src="@{/images/Gloria.jpg}">
            </a>
            <div class="content">
              <a class="author" th:text="${comment.nickname}">Gloria</a>
              <div class="metadata">
                <span class="date" th:text="${#dates.format(comment.createTime, 'yyyy-MM-dd hh:mm')}">Today at 5:42PM</span>
              </div>
              <div class="text" th:text="${comment.content}">
                How artistic!
              </div>

              <div class="actions">
                <a class="reply" data-commentid="1" data-commentnickname="Gloria"
                   th:attr="data-commentid=${comment.id}, data-commentnickname=${comment.nickname}"
                   onclick="reply(this)">Reply</a>
              </div>
            </div>
          </div>

          <!--                            <div class="comment">-->
          <!--                                <a class="avatar">-->
          <!--                                    <img src="/images/avatar/small/Gloria.jpg" th:src="@{/images/avatar/small/Gloria.jpg}">-->
          <!--                                </a>-->
          <!--                                <div class="content">-->
          <!--                                    <a class="author">Elliot Fu</a>-->
          <!--                                    <div class="metadata">-->
          <!--                                        <span class="date">Yesterday at 12:30AM</span>-->
          <!--                                    </div>-->
          <!--                                    <div class="text">-->
          <!--                                        <p>This has been very useful for my research. Thanks as well!</p>-->
          <!--                                    </div>-->
          <!--                                    <div class="actions">-->
          <!--                                        <a class="reply">Reply</a>-->
          <!--                                    </div>-->
          <!--                                </div>-->
          <!--                                <div class="comments">-->
          <!--                                    <div class="comment">-->
          <!--                                        <a class="avatar">-->
          <!--                                            <img src="/images/avatar/small/Gloria.jpg" th:src="@{/images/avatar/small/Gloria.jpg}">-->
          <!--                                        </a>-->
          <!--                                        <div class="content">-->
          <!--                                            <a class="author">Jenny Hess</a>-->
          <!--                                            <div class="metadata">-->
          <!--                                                <span class="date">Just now</span>-->
          <!--                                            </div>-->
          <!--                                            <div class="text">-->
          <!--                                                Elliot you are always so right :)-->
          <!--                                            </div>-->
          <!--                                            <div class="actions">-->
          <!--                                                <a class="reply">Reply</a>-->
          <!--                                            </div>-->
          <!--                                        </div>-->
          <!--                                    </div>-->
          <!--                                </div>-->
          <!--                            </div>-->
          <!--                            <div class="comment">-->
          <!--                                <a class="avatar">-->
          <!--                                    <img src="../static/images/ytxwz.jpg" th:src="@{/images/ytxwz.jpg}">-->
          <!--                                </a>-->
          <!--                                <div class="content">-->
          <!--                                    <a class="author">Joe Henderson</a>-->
          <!--                                    <div class="metadata">-->
          <!--                                        <span class="date">5 days ago</span>-->
          <!--                                    </div>-->
          <!--                                    <div class="text">-->
          <!--                                        Dude, this is awesome. Thanks so much-->
          <!--                                    </div>-->
          <!--                                    <div class="actions">-->
          <!--                                        <a class="reply">Reply</a>-->
          <!--                                    </div>-->
          <!--                                </div>-->
          <!--                            </div>-->

        </div>

        <div id="comment-form" class="ui form">
          <input type="hidden" name="blog.id" th:value="${blog.id}">
          <input type="hidden" name="sonComment.id" value="-1">
          <div class="field">
            <textarea name="content" placeholder="Please type your comment text...... ^_^"></textarea>
          </div>
          <div class="fields">
            <div class="field">
              <div class="ui left icon input">
                <i class="user icon"></i>
                <input type="text" name="nickname" placeholder="Name">
              </div>
            </div>
            <div class="ui left icon input">
              <i class="mail icon"></i>
              <input type="text" name="email" placeholder="Email Address">
            </div>
          </div>
          <div class="field">
            <button id="commentpost-btn" type="button" class="ui teal button">
              <i class="icon edit"></i> Submit!
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
</div>
</div>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<!--footer-->
<footer class="ui inverted vertical segment m-padded-tb-massive">
  <div class="ui center aligned container">
    <div class="ui inverted divided grid">
      <div class="three wide column">
        <div class="ui inverted link list">
          <div class="item">
            <img src="../static/images/WeChat.jpg" th:src="@{/images/WeChat.jpg}" class="ui rounded image" style="width: 150px">
          </div>
        </div>


      </div>
      <div class="three wide column">
        <h4 class="ui inverted header m-opacity-mini">News</h4>
        <div class="ui inverted link list">
          <a href="#" class="item">User Story</a>
          <a href="#" class="item">User Story</a>
          <a href="#" class="item">User Story</a>
        </div>
      </div>
      <div class="three wide column">
        <h4 class="ui inverted header m-opacity-mini">Contact me</h4>
        <div class="ui inverted link list">
          <a href="#" class="item">Email: Zacharyxs0414@gmail.com</a>
          <a href="#" class="item">Github: https://github.com/zachary0414</a>
          <a href="#" class="item">QQ: 1040860708</a>
        </div>
      </div>
      <div class="seven wide column">
        <h4 class="ui inverted header m-opacity-mini">Xiyin Song</h4>
        <p class="m-opacity-mini">This is my personal blog. I will share my.....</p>
      </div>
    </div>
    <div class="ui inverted section divider"></div>
    <p class="m-text-spaced m-opacity-mini">Copyright@2021 Designed by Xiyin Song</p>
  </div>


</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
<script>
  $('#payButton').popup({
    popup : $('.payQR.popup'),
    on : 'click',
    position: 'bottom center'
  });
</script>

<script th:inline="javascript">

  $('.menu.toggle').click(function () {
    $('.m-item').toggleClass('m-mobile-hide');
  });

  // tocbot.init({
  //     // Where to render the table of contents.
  //     tocSelector: '.js-toc',
  //     // Where to grab the headings to build the table of contents.
  //     contentSelector: '.js-toc-content',
  //     // Which headings to grab inside of the contentSelector element.
  //     headingSelector: 'h1, h2, h3',
  // });

  $('.toc.button').popup({
    popup : $('.toc-container.popup'),
    on : 'click',
    position: 'left center'
  });

  $('.wechat').popup({
    popup : $('.wechat-qr'),
    position: 'left center'
  });

  // var serurl = /*[[#{blog.serurl}]]*/"127.0.0.1:8080";
  // var url = /*[[@{/blog/{id}(id=${blog.id})}]]*/"";
  // var qrcode = new QRCode("qrcode", {
  //     text: serurl+url,
  //     width: 110,
  //     height: 110,
  //     colorDark : "#000000",
  //     colorLight : "#ffffff",
  //     correctLevel : QRCode.CorrectLevel.H
  // });

  $('#toTop-button').click(function () {
    $(window).scrollTo(0,500);
  });


  // var waypoint = new Waypoint({
  //     element: document.getElementById('waypoint'),
  //     handler: function(direction) {
  //         if (direction == 'down') {
  //             $('#toolbar').show(100);
  //         } else {
  //             $('#toolbar').hide(500);
  //         }
  //         console.log('Scrolled to waypoint!  ' + direction);
  //     }
  // })


  //评论表单验证
  $('.ui.form').form({
    fields: {
      title: {
        identifier: 'content',
        rules: [{
          type: 'empty',
          prompt: 'Please type some comments.'
        }
        ]
      },
      content: {
        identifier: 'nickname',
        rules: [{
          type: 'empty',
          prompt: 'Please type your name.'
        }]
      },
      type: {
        identifier: 'email',
        rules: [{
          type: 'email',
          prompt: 'Please write correct Email address!'
        }]
      }
    }
  });

  $(function () {
    $("#comment-container").load(/*[[@{/comments/{id}(id=${blog.id})}]]*/"comments/6");
  });



  $('#commentpost-btn').click(function () {
    var boo = $('.ui.form').form('validate form');
    if (boo) {
      console.log('Verification succeeded');
      postData();
    } else {
      console.log('Verification failed');
    }

  });


  function postData() {
    $("#comment-container").load(/*[[@{/comments}]]*/"",{
      "sonComment.id" : $("[name='sonComment.id']").val(),
      "blog.id" : $("[name='blog.id']").val(),
      "nickname": $("[name='nickname']").val(),
      "email"   : $("[name='email']").val(),
      "content" : $("[name='content']").val()
    },function (responseTxt, statusTxt, xhr) {
//        $(window).scrollTo($('#comment-container'),500);
      clearContent();
    });
  }

  function clearContent() {
    $("[name='content']").val('');
    $("[name='sonComment.id']").val(-1);
    $("[name='content']").attr("placeholder", "请输入评论信息...");
  }


  function reply(obj) {
    var commentId = $(obj).data('commentid');
    var commentNickname = $(obj).data('commentnickname');
    $("[name='content']").attr("placeholder", "@"+commentNickname).focus();
    $("[name='sonComment.id']").val(commentId);
    $(window).scrollTo($('#comment-form'),500);
  }

</script>

</body>
</html>